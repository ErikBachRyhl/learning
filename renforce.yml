# AnkiTex Configuration Example

# Course configurations
# Each course maps file paths to an Anki deck
courses:
  DiffTop:
    # Glob patterns for .tex files
    paths:
      - "DiffTop/**/*.tex"
    # Target Anki deck name
    deck: "Differential Topology"

  DiffTop2:
    # Glob patterns for .tex files
    paths:
      - "DiffTop2/**/*.tex"
    # Target Anki deck name
    deck: "Differential Topology Test"

  PDE:
    paths:
      - "PDE/**/*.tex"
    deck: "Partial Differential Equations"

  ComplexAnalysis:
    paths:
      - "ComAn/**/*.tex"
    deck: "Complex Analysis"

  QFT:
    paths:
      - "QFT/**/*.tex"
    deck: "Quantum Field Theory"

  Test:
    paths:
      - "Test/**/*.tex"
    deck: "Test"

# LaTeX environments to extract
# Add any custom environments you use
envs_to_extract:
  - definition
  - theorem
  - proposition
  - lemma
  - corollary
  - example
  - remark
  - problem
  - exercise
  - mtheorem
  - mprop
  - mlemma
  - mcorollary
  - mexample
  - mremark
  - mproblem
  # Uncomment to add custom environments:
  # - conjecture
  # - algorithm
  # - exercise

# LLM Configuration
# Generate paraphrased, active-recall cards using an LLM
llm:
  # Provider: openai | anthropic | gemini | none
  provider: openai
  
  # Model names:
  # OpenAI: gpt-4o-mini (recommended), gpt-4.1-mini
  # Anthropic: claude-sonnet-4-5
  # Gemini: gemini-2.5-flash, gemini-2.5-pro
  model: gpt-4o-mini
  
  # Temperature for generation (0.0-1.0)
  temperature: 0.2
  
  # Max tokens for LLM output
  max_output_tokens: 1200
  
  # Enable LLM-generated cards
  enable_generated: true
  
  # Learning-focus knobs
  # Paraphrase strength: 0 = close to source, 1 = strongly rephrased
  paraphrase_strength: 0.6
  
  # Max cards per LaTeX block
  max_cards_per_block: 2
  
  # Total context lines around each block (split half above/below)
  neighbor_context_lines: 20
  
  # Source selection
  # If true, send git diff chunks instead of extracted blocks
  full_diff: false

# Chunking Configuration
# For large diffs or contexts
chunking:
  # Mode: auto (automatic when needed) | off (never chunk)
  mode: auto
  
  # Max chars before splitting
  max_chars: 160000 # Figure out what this should be. Especially with gemini-2.5
  
  # Context overlap between chunks
  overlap_lines: 10

# Chat Mode Configuration
# For interactive mentoring over diffs
chat:
  enabled: true
  
  # Default scope: latest | lastN | sinceSha | all
  default_scope: latest
  
  # Number of commits if default_scope=lastN
  lastN: 1
  
  # Auto-approve JSON card proposals in chat
  mentor_auto_add: false

# Daily limit for new cards
# Used for future intake throttling feature
daily_new_limit: 30

# Course priorities
# Higher number = higher priority
# Used for future intake throttling feature
priorities:
  DiffTop: 5
  PDE: 2
  ComplexAnalysis: 1
  QFT: 1

# Tag templates
# Available placeholders:
#   {sha} - commit hash (short form)
#   {file} - file path (sanitized)
#   {env} - environment type
#   {course} - course name
tags:
  - auto
  - course:{course}
  - from-tex
  - commit:{sha}
  - file:{file}